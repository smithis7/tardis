

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Configuration File &mdash; TARDIS v3.0.dev1</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/tardis_logo.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Configuration Validator" href="config_validator.html" />
    <link rel="prev" title="Configuration" href="index.html" />
    <link href="../../../_static/tardis.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> TARDIS
          

          
          </a>

          
            
            
              <div class="version">
                3.0.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart/quickstart.html">Quickstart for TARDIS</a></li>
</ul>
<p class="caption"><span class="caption-text">Using TARDIS</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Components</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Configuration</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuration File</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration-schema">Configuration Schema</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="config_validator.html">Configuration Validator</a></li>
<li class="toctree-l3"><a class="reference internal" href="read_configuration.html">Reading the Configuration Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../models/index.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../atomic/atomic_data.html">Atomic Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../visualization/index.html">Visualization Tools &amp; Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interaction/index.html">Additional Interactivity</a></li>
</ul>
<p class="caption"><span class="caption-text">The Physics of TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/montecarlo/index.html">Monte Carlo Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/plasma/index.html">Plasma</a></li>
</ul>
<p class="caption"><span class="caption-text">Research with TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../research/index.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Team &amp; Credits</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../team_and_governance/index.html">Team and Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits.html">Credits &amp; Publication Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CODE_OF_CONDUCT.html">Code of Conduct</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing to TARDIS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../CONTRIBUTING.html">Contribution Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development/index.html">Developer Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../CHANGELOG.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap.html">Development Roadmap</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/modules.html">tardis</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../zreferences.html">TARDIS Papers and useful References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TARDIS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Components</a> &raquo;</li>
        
          <li><a href="index.html">Configuration</a> &raquo;</li>
        
      <li>Configuration File</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/using/components/configuration/configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="configuration-file">
<span id="config-file"></span><h1>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h1>
<p>TARDIS uses the <a class="reference external" href="https://en.wikipedia.org/wiki/YAML">YAML markup language</a>
for its configuration files. There are several sections which allow different
settings for the different aspects of the TARDIS calculation. An example
configuration file (with a small subset of the options that can be specified) can be downloaded at <a class="reference external" href="https://github.com/tardis-sn/tardis-setups/blob/master/2014/2014_kerzendorf_sim/appendix_A1/tardis_example.yml">example_yml</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>One should note that currently floats in YAML need to be specified in a special format:
any pure floats need to have a +/- after the “e”, e.g. 2e+5</p>
</div>
<p>The TARDIS configuration consists of multiple sections that pertain to certain parts of the code. We will use the
schemas to show what options are available. Our schema mark-up defines names in bold-fat as required and can be seen here:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following shows all the options (and their default settings) that are available for TARDIS. No other options
are allowed or available.</p>
</div>
<div class="contents local topic" id="overview">
<p class="topic-title">Overview</p>
<ul class="simple">
<li><p><a class="reference internal" href="#configuration-schema" id="id1">Configuration Schema</a></p>
<ul>
<li><p><a class="reference internal" href="#supernova" id="id2">Supernova</a></p></li>
<li><p><a class="reference internal" href="#model" id="id3">Model</a></p></li>
<li><p><a class="reference internal" href="#plasma" id="id4">Plasma</a></p>
<ul>
<li><p><a class="reference internal" href="#nlte" id="id5">NLTE</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#monte-carlo" id="id6">Monte Carlo</a></p></li>
<li><p><a class="reference internal" href="#spectrum" id="id7">Spectrum</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="configuration-schema">
<h2><a class="toc-backref" href="#id1">Configuration Schema</a><a class="headerlink" href="#configuration-schema" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>tardis_config_version</strong></p></li>
</ul>
</td>
<td colspan="2"><p>Version of the configuration file. The current version is 1.0 and no other versions are allowed</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>supernova</p></li>
</ul>
</td>
<td colspan="2"><p>a section pertaining to observations of the supernova</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#supernova-yml"><span class="std std-ref">supernova.yml</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>atom_data</strong></p></li>
</ul>
</td>
<td colspan="2"><p>path or filename to the Atomic Data HDF5 file</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>plasma</p></li>
</ul>
</td>
<td colspan="2"><p>configuration of the plasma microphysics</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#plasma-yml"><span class="std std-ref">plasma.yml</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>csvy_model</p></li>
</ul>
</td>
<td colspan="2"><p>defining the model using csvy format</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>model</p></li>
</ul>
</td>
<td colspan="2"><p>defining the model in the config yaml file</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#model-yml"><span class="std std-ref">model.yml</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>montecarlo</p></li>
</ul>
</td>
<td colspan="2"><p>configuring the physics of the monte carlo radiative transfer</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#montecarlo-yml"><span class="std std-ref">montecarlo.yml</span></a></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p><strong>spectrum</strong></p></li>
</ul>
</td>
<td colspan="2"><p>Final spectrum sampling</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p><a class="reference internal" href="#spectrum-yml"><span class="std std-ref">spectrum.yml</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
<p>The base schema links to several other configuration parts</p>
<div class="section" id="supernova">
<h3><a class="toc-backref" href="#id2">Supernova</a><a class="headerlink" href="#supernova" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="supernova-yml">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>luminosity_requested</strong></p></li>
</ul>
</td>
<td colspan="2"><p>requested output luminosity for simulation</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>1 solLum</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p><strong>time_explosion</strong></p></li>
</ul>
</td>
<td colspan="2"><p>time since explosion</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>distance</p></li>
</ul>
</td>
<td colspan="2"><p>distance to supernova - <strong>THIS IS DEPRECATED AND NOT IN USE</strong></p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>luminosity_wavelength_start</p></li>
</ul>
</td>
<td colspan="2"><p>start of the integral needed for getting the luminosity right</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>0 angstrom</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>luminosity_wavelength_end</p></li>
</ul>
</td>
<td colspan="2"><p>start of the integral needed for getting the luminosity right</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>inf angstrom</p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="model">
<h3><a class="toc-backref" href="#id3">Model</a><a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h3>
<p>The next sections, describing the model, are very hierarchical. The base level is <code class="docutils literal notranslate"><span class="pre">model</span></code> and contains two subsections:
<code class="docutils literal notranslate"><span class="pre">structure</span></code> and <code class="docutils literal notranslate"><span class="pre">abundances</span></code>. Both sections can either contain a <code class="docutils literal notranslate"><span class="pre">file</span></code> subsection that specifies a file and
file type where the information is stored or a number of other sections.</p>
<table class="docutils align-default" id="model-yml">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>structure</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><span class="xref std std-ref">#/definitions/structure/file</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="xref std std-ref">#/definitions/structure/specific</span></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>abundances</p></li>
</ul>
</td>
<td rowspan="2"><p>oneOf</p></td>
<td><p><span class="xref std std-ref">#/definitions/abundances/file</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="xref std std-ref">#/definitions/abundances/uniform</span></p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>definitions</p></td>
</tr>
<tr class="row-odd"><td colspan="3"><ul class="simple">
<li><p>density</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td colspan="3"><ul class="simple">
<li><p>structure</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td colspan="3"><ul class="simple">
<li><p>abundances</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>All types of <code class="docutils literal notranslate"><span class="pre">structure</span></code> definitions have two keywords in common: <code class="docutils literal notranslate"><span class="pre">v_inner_boundary</span></code> and <code class="docutils literal notranslate"><span class="pre">v_outer_boundary</span></code>.
In the <code class="docutils literal notranslate"><span class="pre">structure</span></code> section, one can specify a <code class="docutils literal notranslate"><span class="pre">file</span></code> section containing a <code class="docutils literal notranslate"><span class="pre">type</span></code> parameter
(currently only <code class="docutils literal notranslate"><span class="pre">artis</span></code> is supported``) and a <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter giving a path top a file.</p>
<p>If one doesn’t specify a <code class="docutils literal notranslate"><span class="pre">file</span></code> section, the code requires two sections (<code class="docutils literal notranslate"><span class="pre">velocities</span></code> and <code class="docutils literal notranslate"><span class="pre">densities</span></code>) and a
parameter <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code>. <code class="docutils literal notranslate"><span class="pre">no_of_shells</span></code> is the requested number of shells for a model. The <code class="docutils literal notranslate"><span class="pre">velocity</span></code> section
requires a <code class="docutils literal notranslate"><span class="pre">type</span></code>. Currently, only <code class="docutils literal notranslate"><span class="pre">linear</span></code> is supported.</p>
<dl class="simple">
<dt>In the <code class="docutils literal notranslate"><span class="pre">densities</span></code> section the <code class="docutils literal notranslate"><span class="pre">type</span></code> parameter again decides on the parameters. The type <code class="docutils literal notranslate"><span class="pre">uniform</span></code> only needs a</dt><dd><p><code class="docutils literal notranslate"><span class="pre">value</span></code> parameter with a density compatible quantity. The type <code class="docutils literal notranslate"><span class="pre">branch85_w7</span></code> uses a seven-order polynomial fit to
the W7 model and is parametrised by time since explosion. The parameters <code class="docutils literal notranslate"><span class="pre">time_0</span></code> and <code class="docutils literal notranslate"><span class="pre">density_coefficient</span></code> are set
to sensible defaults and should not be changed.</p>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">abundance</span></code> section again has a possible <code class="docutils literal notranslate"><span class="pre">file</span></code> parameter with <code class="docutils literal notranslate"><span class="pre">type</span></code> (currently only <code class="docutils literal notranslate"><span class="pre">artis</span></code> is allowed)
and a <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter giving a path to a file containing the abundance information.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In contrast to the <code class="docutils literal notranslate"><span class="pre">structure</span></code> section, the <code class="docutils literal notranslate"><span class="pre">abundance</span></code> section will not ignore abundances set in the rest of
the section but merely will overwrite the abundances given in the file section.</p>
</div>
<p>The rest of the section can be used to configure uniform abundances for all shells, by giving the atom name and a
relative abundance fraction. If it does not add up to 1., TARDIS will warn — but normalize the numbers.</p>
</div>
<div class="section" id="plasma">
<h3><a class="toc-backref" href="#id4">Plasma</a><a class="headerlink" href="#plasma" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="plasma-yml">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>initial_t_inner</p></li>
</ul>
</td>
<td colspan="3"><p>initial temperature of the inner boundary black body. If set to -1 K  will result in automatic calculation of boundary</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>-1 K</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>initial_t_rad</p></li>
</ul>
</td>
<td colspan="3"><p>initial radiative temperature in all cells. If set to -1 K will result in automtatic calculation of the initial temperatures</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>-1 K</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>disable_electron_scattering</p></li>
</ul>
</td>
<td colspan="3"><p>disable electron scattering process in montecarlo part - non-physical only for tests</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>disable_line_scattering</p></li>
</ul>
</td>
<td colspan="3"><p>disable line scattering process in montecarlo part - non-physical only for tests</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>ionization</strong></p></li>
</ul>
</td>
<td colspan="3"><p>ionization treatment mode</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td><p>enum</p></td>
<td colspan="2"><p>nebular, lte</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>excitation</strong></p></li>
</ul>
</td>
<td colspan="3"><p>excitation treatment mode</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>enum</p></td>
<td colspan="2"><p>lte, dilute-lte</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>radiative_rates_type</strong></p></li>
</ul>
</td>
<td colspan="3"><p>radiative rates treatment mode</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td><p>enum</p></td>
<td colspan="2"><p>dilute-blackbody, detailed, blackbody</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>line_interaction_type</strong></p></li>
</ul>
</td>
<td colspan="3"><p>line interaction mode</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>enum</p></td>
<td colspan="2"><p>scatter, downbranch, macroatom</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>w_epsilon</p></li>
</ul>
</td>
<td colspan="3"><p>w to use when j_blues get numerically 0. - avoids numerical complications</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>1e-10</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><ul class="simple">
<li><p>delta_treatment</p></li>
</ul>
</td>
<td colspan="3"><p>In the saha calculation set delta equals to the number given in this configuration item. if set to None (default), normal delta treatment (as described in Mazzali &amp; Lucy 1993) will be applied</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td rowspan="13"><ul class="simple">
<li><p>nlte</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>species</p></li>
</ul>
</td>
<td colspan="2"><p>Species that are requested to be NLTE treated in the format  [‘Si 2’, ‘Ca 1’, etc.]</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>array</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>coronal_approximation</p></li>
</ul>
</td>
<td colspan="2"><p>set all jblues=0.0</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>classical_nebular</p></li>
</ul>
</td>
<td colspan="2"><p>sets all beta_sobolevs to 1</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="7"><ul class="simple">
<li><p>continuum_interaction</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>species</p></li>
</ul>
</td>
<td colspan="2"><p>Species that are requested to be treated with continuum interactios (radiative/collisional ionization and recombination) in the format [‘Si II’, ‘Ca I’, etc.]</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>array</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><ul class="simple">
<li><p>helium_treatment</p></li>
</ul>
</td>
<td colspan="3"><p>none to treat He as the other elements. recomb-nlte to treat with NLTE approximation.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>enum</p></td>
<td colspan="2"><p>none, recomb-nlte, numerical-nlte</p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>none</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>heating_rate_data_file</p></li>
</ul>
</td>
<td colspan="3"><p>Path to file containing heating rate/light curve data.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>none</p></td>
</tr>
<tr class="row-odd"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">inital_t_inner</span></code> is initial temperature (will be updated for most modes of TARDIS — see convergence section) of the black-body on the inner
boundary. <code class="docutils literal notranslate"><span class="pre">initial_t_rad</span></code> is the initial radiation temperature (will be updated for most modes of TARDIS - see convergence section). For debugging purposes and to compare to
<span class="xref std std-term">synapps</span> calculations one can disable the electron scattering. TARDIS will issue a warning that this is not physical.
There are currently two <code class="docutils literal notranslate"><span class="pre">plasma_type</span></code> options available: <code class="docutils literal notranslate"><span class="pre">nebular</span></code> and <code class="docutils literal notranslate"><span class="pre">lte</span></code>, which tell TARDIS how to run the
ionization equilibrium and level population calculations (see <a class="reference internal" href="../../../physics/plasma/index.html#plasma"><span class="std std-ref">Plasma</span></a> for more information).
The radiative rates describe how to calculate the <span class="math notranslate nohighlight">\(J_\textrm{blue}\)</span> needed for the <a class="reference internal" href="../../../physics/plasma/nlte.html#nlte"><span class="std std-ref">NLTE treatment</span></a> calculations and
<a class="reference internal" href="../../../physics/plasma/macroatom.html#macroatom"><span class="std std-ref">Macro Atom</span></a> calculations. There are three options for <code class="docutils literal notranslate"><span class="pre">radiative_rates_type</span></code>:</p>
<p>1) <code class="docutils literal notranslate"><span class="pre">lte</span></code>, in which
<span class="math notranslate nohighlight">\(J_\textrm{blue} = \textrm{Blackbody}(T_\textrm{rad})\)</span></p>
<p>2) <code class="docutils literal notranslate"><span class="pre">nebular</span></code> in which
<span class="math notranslate nohighlight">\(J_\textrm{blue} = W \times \textrm{Blackbody}(T_\textrm{rad})\)</span></p>
<p>3) <code class="docutils literal notranslate"><span class="pre">detailed</span></code> in which the <span class="math notranslate nohighlight">\(J_\textrm{blue}\)</span>
are calculated using an estimator (this is described in ??????).</p>
<p>TARDIS currently supports three different kinds of line interaction: <code class="docutils literal notranslate"><span class="pre">scatter</span></code> — a resonance scattering implementation,
<code class="docutils literal notranslate"><span class="pre">macroatom</span></code> — the most complex form of line interaction described in <a class="reference internal" href="../../../physics/plasma/macroatom.html#macroatom"><span class="std std-ref">Macro Atom</span></a> and <code class="docutils literal notranslate"><span class="pre">downbranch</span></code> a simplified
version of <code class="docutils literal notranslate"><span class="pre">macroatom</span></code> in which only downward transitions are allowed.</p>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">w_epsilon</span></code> describes the dilution factor to use to calculate <span class="math notranslate nohighlight">\(J_\textrm{blue}\)</span> that are 0, which
causes problemsl with the code (so <span class="math notranslate nohighlight">\(J_\textrm{blue}\)</span> are set to a very small number).</p>
<div class="section" id="nlte">
<h4><a class="toc-backref" href="#id5">NLTE</a><a class="headerlink" href="#nlte" title="Permalink to this headline">¶</a></h4>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nlte</span><span class="p">:</span>
    <span class="nt">coronal_approximation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
    <span class="nt">classical_nebular</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
<p>The NLTE configuration currently allows setting <code class="docutils literal notranslate"><span class="pre">coronal_approximation</span></code>, which sets all <span class="math notranslate nohighlight">\(J_\textrm{blue}\)</span> to 0.
This is useful for debugging with <span class="xref std std-term">chianti</span> for example. Furthermore, one can enable ‘classical_nebular’ to set all
<span class="math notranslate nohighlight">\(\beta_\textrm{Sobolev}\)</span> to 1. Both options are used for checking with other codes and should not be enabled in
normal operations.</p>
</div>
</div>
<div class="section" id="monte-carlo">
<h3><a class="toc-backref" href="#id6">Monte Carlo</a><a class="headerlink" href="#monte-carlo" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">montecarlo</span></code> section describes the parameters for the Monte Carlo radiation transport and convergence criteria:</p>
<table class="docutils align-default" id="montecarlo-yml">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p>nthreads</p></li>
</ul>
</td>
<td colspan="3"><p>The number of Numba threads for parallelisation. Must be between 1 and the environment variable NUMBA_NUM_THREADS (by default NUMBA_NUM_THREADS is equal to the number of CPU cores on the local system).</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>1</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p>seed</p></li>
</ul>
</td>
<td colspan="3"><p>Seed for the random number generator</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>23111963</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>no_of_packets</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Seed for the random number generator</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>iterations</strong></p></li>
</ul>
</td>
<td colspan="3"><p>Number of maximum iterations</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p>last_no_of_packets</p></li>
</ul>
</td>
<td colspan="3"><p>This can set the number of packets for the last run. If set negative it will remain the same as all other runs.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>-1</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p>no_of_virtual_packets</p></li>
</ul>
</td>
<td colspan="3"><p>Setting the number of virtual packets for the last iteration.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>0</p></td>
</tr>
<tr class="row-odd"><td rowspan="8"><ul class="simple">
<li><p>virtual_spectrum_spawn_range</p></li>
</ul>
</td>
<td colspan="3"><p>Limits of virtual packet spawn spectrum (giving maximum and minimum packet frequency)</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>0 angstrom</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>end</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>inf angstrom</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>enable_reflective_inner_boundary</p></li>
</ul>
</td>
<td colspan="3"><p>experimental feature to enable a reflective boundary.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>inner_boundary_albedo</p></li>
</ul>
</td>
<td colspan="3"><p>albedo of the reflective boundary</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>0.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>convergence_strategy</p></li>
</ul>
</td>
<td><p>default</p></td>
<td><p>type</p></td>
<td><p>damped</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>oneOf</p></td>
<td colspan="2"><p><span class="xref std std-ref">#/definitions/convergence_strategy/damped</span></p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p><span class="xref std std-ref">#/definitions/convergence_strategy/custom</span></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>enable_full_relativity</p></li>
</ul>
</td>
<td colspan="3"><p>Enables a more complete treatment of relativitic effects. This includes angle aberration as well as use of the fully general Doppler formula.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>debug_packets</p></li>
</ul>
</td>
<td colspan="3"><p>Decide whether to go into debugging mode. [EXPERIMENTAL FEATURE DO NOT RELY ON IT]</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>logger_buffer</p></li>
</ul>
</td>
<td colspan="3"><p>Provides option to not log every line.</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>1</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>single_packet_seed</p></li>
</ul>
</td>
<td colspan="3"><p>If debug_packets is true, this is the seed for the only packet.</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td colspan="2"><p>-1</p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="3"><p>False</p></td>
</tr>
<tr class="row-odd"><td colspan="4"><p>definitions</p></td>
</tr>
<tr class="row-even"><td colspan="4"><ul class="simple">
<li><p>convergence_strategy</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">seed</span></code> parameter seeds the random number generator first for the creation of the packets
(<span class="math notranslate nohighlight">\(\nu\)</span> and <span class="math notranslate nohighlight">\(\mu\)</span>) and then the interactions in the actual Monte Carlo process.
The <code class="docutils literal notranslate"><span class="pre">no_of_packets</span></code> parameter can take a float number for input convenience and gives the number of packets normally
used in each Monte Carlo loop. The parameters <code class="docutils literal notranslate"><span class="pre">last_no_of_packets</span></code> and <code class="docutils literal notranslate"><span class="pre">no_of_virtual_packets</span></code> influence the last run
of the Monte Carlo loop (which calculates the final spectrum!) when the radiation field should have converged. <code class="docutils literal notranslate"><span class="pre">last_no_of_packets</span></code> is normally higher than
<code class="docutils literal notranslate"><span class="pre">no_of_packets</span></code> to create a less noisy output spectrum. <code class="docutils literal notranslate"><span class="pre">no_of_virtual_packets</span></code> can also be set to greater than 0 (a useful number is 3) to
use the Virtual Packet formalism. Increasing this number drastically increases computational costs (and memory requirements if they are logged).
The <code class="docutils literal notranslate"><span class="pre">iterations</span></code> parameter describes the maximum number of Monte Carlo loops executed in a simulation before it ends. Convergence criteria can be used to make the simulation stop
sooner when the convergence threshold has been reached.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">convergence_criteria</span></code> section again has a <code class="docutils literal notranslate"><span class="pre">type</span></code> keyword. Currently, one type is allowed: <code class="docutils literal notranslate"><span class="pre">damped</span></code>.
All convergence criteria can be specified separately for the three variables for which convergence can be checked
(<code class="docutils literal notranslate"><span class="pre">t_inner</span></code>, <code class="docutils literal notranslate"><span class="pre">t_rad</span></code>, <code class="docutils literal notranslate"><span class="pre">ws</span></code>) by specifying subsections in the <code class="docutils literal notranslate"><span class="pre">convergence_criteria</span></code> of the same name. These then
override the defaults.</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">damped</span></code> only has one parameter <code class="docutils literal notranslate"><span class="pre">damping-constant</span></code> and does not check for convergence. This can be used to fix the</dt><dd><p>temperature of the inner boundary (by increasing the <code class="docutils literal notranslate"><span class="pre">convergence_criteria</span></code> and</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="spectrum">
<h3><a class="toc-backref" href="#id7">Spectrum</a><a class="headerlink" href="#spectrum" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default" id="spectrum-yml">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p>start</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p>stop</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>quantity</em></p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><ul class="simple">
<li><p>num</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>multipleOf</p></td>
<td colspan="2"><p>1.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="4"><ul class="simple">
<li><p>method</p></li>
</ul>
</td>
<td colspan="3"><p>The method to generate the final spectrum</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td colspan="2"><p><em>string</em></p></td>
</tr>
<tr class="row-odd"><td><p>enum</p></td>
<td colspan="2"><p>integrated, virtual, real</p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"><p>virtual</p></td>
</tr>
<tr class="row-odd"><td rowspan="10"><ul class="simple">
<li><p>integrated</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>points</p></li>
</ul>
</td>
<td colspan="2"><p>Number of impact parameters p used in the calculation of the integrated spectrum</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>1000</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>interpolate_shells</p></li>
</ul>
</td>
<td colspan="2"><p>Number of shells on which the formal integral quantities are interpolated</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>-1</p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="16"><ul class="simple">
<li><p>virtual</p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>tau_russian</p></li>
</ul>
</td>
<td colspan="2"><p>For optical depths greater tau_russian russian rouletting is used for the v-packets</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>10.0</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>survival_probability</p></li>
</ul>
</td>
<td colspan="2"><p>Probability for not terminating the packet path</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p>enable_biasing</p></li>
</ul>
</td>
<td colspan="2"><p>If True bias v-packet emission based on the electron scattering optical depth</p></td>
</tr>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-even"><td><p>default</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>virtual_packet_logging</p></li>
</ul>
</td>
<td colspan="2"><p>If True, enable virtual packet logging output</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p><em>boolean</em></p></td>
</tr>
<tr class="row-odd"><td><p>default</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>additionalProperties</p></td>
<td colspan="2"><p>False</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> are given as Quantities with units. If they are given in
frequency space they are switched around if necessary. The number of bins is
just an integer. Finally, the method option selects the final spectral synthesis mode. Currently, there are three options:</p>
<ul class="simple">
<li><p>real: construct spectrum from the real packet population alone</p></li>
<li><p>virtual: use the <a class="reference internal" href="../../../physics/montecarlo/virtualpackets.html"><span class="doc">virtual packet scheme</span></a> for spectral synthesis</p></li>
<li><p>integrated: use the <a class="reference internal" href="../../../physics/montecarlo/sourceintegration.html"><span class="doc">formal integral method</span></a> of Lucy 1999</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently, the “integrated” mode only works with the downbranching line
interaction mode. Note also the limitations listed at the bottom of the
dedicated page.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="config_validator.html" class="btn btn-neutral float-right" title="Configuration Validator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2013-2021, TARDIS collaboration.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>